{% extends "partials/base.html" %}


{% block page_name %}
<title>Home</title>
{% endblock page_name %}

{% block script %}
<script>

</script>
{% endblock script %}

{% block content %}

<div class="container mx-auto pb-10">
    <div class="rounded-lg bg-gray-800 mt-32 mb-8 bg-cover bg-center mx-16"
        style="height: 25vh; background-image:url(https://images.unsplash.com/photo-1516466723877-e4ec1d736c8a?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1406&q=80)">
    </div>
    <div class="search mx-16">
        <a href="{% url 'groups:create-group' %}">등록</a>
    </div>

    <div class="grid mx-16">
        {% for group in groups%}
        <a class="list-item flex my-3" href="{% url 'groups:detail' group.pk%}">
            <div class="flex-initial rounded w-56 h-32  bg-red-300 float-left bg-cover bg-center"
                style="background-image:url(https://images.unsplash.com/photo-1585408871649-f8ce2d371e69?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80)">
            </div>

            <div class="group_{{group.id}} flex-initial h-32 w-full ml-8">
                <div class="flex h-24">
                    <p class="title flex-initial w-9/12 font-medium text-2xl hover:text-indigo-500">{{group.title}}</p>
                    <div class="flex-initial w-3/12">
                        <div class="leader m-1 bg-blue-700 rounded text-center h-8">
                            <p class="p-1 ml-1 mx-1 font-semibold text-white">{{group.leader}}</p>
                        </div>
                        <div class="created m-1 bg-blue-500 rounded text-center h-8">
                            <p class="p-1 ml-1 mx-1  text-white">{{group.created}}</p>
                        </div>
                        <div class="float-right count m-1 bg-gray-200 rounded w-16 text-center h-8 
                        {%if group.get_user_count == group.max_group_count%}
                        text-red-400
                        {%else%}
                        text-blue-400
                        {%endif%}
                        ">
                            <p class="p-1 ml-1 mx-1 font-semibold "> {{group.get_user_count}} /
                                {{group.max_group_count}}
                            </p>
                        </div>
                    </div>
                </div>

                <div class="flex h-8">
                    <div class="category m-1 text-center flex-initial rounded h-8
                        {%if group.get_category_display == 'Study'%}
                        bg-teal-400  
                        {%elif group.get_category_display == 'Hobby'%}
                        bg-indigo-400 
                        {%elif group.get_category_display == 'Reading'%}
                        bg-blue-400 
                        {%elif group.get_category_display == 'Exercise'%}
                        bg-green-500 
                        {%endif%}
                    ">
                        <p class="p-1 ml-1 mx-1  text-base text-white">
                            {{group.get_category_display}}
                        </p>
                    </div>
                    <div class="planning_unit m-1 text-center  flex-initial rounded h-8
                        {%if group.planning_unit == 'week'%}
                            bg-gray-500  
                            {%elif group.planning_unit == 'day'%}
                            bg-gray-600 
                            {%endif%}
                        ">
                        <p class="p-1 ml-1 mx-1 text-base text-white">
                            {{group.planning_unit}}
                        </p>
                    </div>
                </div>
            </div>
        </a>
        <div class="flex items-center w-full my-1">
            <div class="h-px w-full bg-gray-400"></div>
            <div class="h-px w-full bg-gray-400 "></div>
        </div>

        {%endfor%}

        {% if is_paginated %}
        <div>
            <ul class="pagination float-right mt-8">
                <span>
                    {% if page_obj.has_previous %}
                    <li class="w-16 h-8 m-2 float-left"><a href="/?page={{page_obj.previous_page_number}}">Previous</a>
                    </li>
                    {% endif %}

                    {% for page in paginator.page_range%}
                    <li
                        class="w-4 h-8 m-2 float-left {%if page_obj.number == page %}text-indigo-600 font-bold {%endif%}">
                        <a href="/?page={{page}}">{{page}}</a></li>
                    {% endfor %}

                    {% if page_obj.has_next %}
                    <li class="w-16 h-8 m-2 float-left"><a href="/?page={{page_obj.next_page_number}}">Next</a></li>
                    {% endif %}
                </span>
                {%endif%}
            </ul>
        </div>
    </div>
</div>

{% endblock content %}